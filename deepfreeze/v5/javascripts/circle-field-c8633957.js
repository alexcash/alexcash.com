function hexToRgba(t,n){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+","+n+")"}$(".me").append('<canvas id="canvas"></canvas>');var tapEvent="click",interactStart="mousedown",interactEnd="mouseup";!function(){"use strict";Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(t){var n={};return Object.getOwnPropertyNames(t).forEach(function(e){n[e]=Object.getOwnPropertyDescriptor(t,e)}),n});window.Proto={make:function(){var t=Object.create(this);return t.constructor&&t.constructor.apply(t,arguments),t},extend:function(t){var n=Object.create(this,Object.getOwnPropertyDescriptors(t));return n["super"]=this,n}}}(),function(){var t=this,n=t._,e={},r=Array.prototype,i=Object.prototype,a=Function.prototype,o=r.push,u=r.slice,c=r.concat,s=i.toString,l=i.hasOwnProperty,f=r.forEach,h=r.map,d=r.reduce,p=r.reduceRight,w=r.filter,g=r.every,v=r.some,m=r.indexOf,y=r.lastIndexOf,x=Array.isArray,b=Object.keys,S=a.bind,M=function(t){return t instanceof M?t:this instanceof M?void(this._wrapped=t):new M(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=M),exports._=M):t._=M,M.VERSION="1.5.2";var T=M.each=M.forEach=function(t,n,r){if(null!=t)if(f&&t.forEach===f)t.forEach(n,r);else if(t.length===+t.length){for(var i=0,a=t.length;a>i;i++)if(n.call(r,t[i],i,t)===e)return}else for(var o=M.keys(t),i=0,a=o.length;a>i;i++)if(n.call(r,t[o[i]],o[i],t)===e)return};M.map=M.collect=function(t,n,e){var r=[];return null==t?r:h&&t.map===h?t.map(n,e):(T(t,function(t,i,a){r.push(n.call(e,t,i,a))}),r)};var k="Reduce of empty array with no initial value";M.reduce=M.foldl=M.inject=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return r&&(n=M.bind(n,r)),i?t.reduce(n,e):t.reduce(n);if(T(t,function(t,a,o){i?e=n.call(r,e,t,a,o):(e=t,i=!0)}),!i)throw new TypeError(k);return e},M.reduceRight=M.foldr=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return r&&(n=M.bind(n,r)),i?t.reduceRight(n,e):t.reduceRight(n);var a=t.length;if(a!==+a){var o=M.keys(t);a=o.length}if(T(t,function(u,c,s){c=o?o[--a]:--a,i?e=n.call(r,e,t[c],c,s):(e=t[c],i=!0)}),!i)throw new TypeError(k);return e},M.find=M.detect=function(t,n,e){var r;return _(t,function(t,i,a){return n.call(e,t,i,a)?(r=t,!0):void 0}),r},M.filter=M.select=function(t,n,e){var r=[];return null==t?r:w&&t.filter===w?t.filter(n,e):(T(t,function(t,i,a){n.call(e,t,i,a)&&r.push(t)}),r)},M.reject=function(t,n,e){return M.filter(t,function(t,r,i){return!n.call(e,t,r,i)},e)},M.every=M.all=function(t,n,r){n||(n=M.identity);var i=!0;return null==t?i:g&&t.every===g?t.every(n,r):(T(t,function(t,a,o){return(i=i&&n.call(r,t,a,o))?void 0:e}),!!i)};var _=M.some=M.any=function(t,n,r){n||(n=M.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(n,r):(T(t,function(t,a,o){return i||(i=n.call(r,t,a,o))?e:void 0}),!!i)};M.contains=M.include=function(t,n){return null==t?!1:m&&t.indexOf===m?-1!=t.indexOf(n):_(t,function(t){return t===n})},M.invoke=function(t,n){var e=u.call(arguments,2),r=M.isFunction(n);return M.map(t,function(t){return(r?n:t[n]).apply(t,e)})},M.pluck=function(t,n){return M.map(t,function(t){return t[n]})},M.where=function(t,n,e){return M.isEmpty(n)?e?void 0:[]:M[e?"find":"filter"](t,function(t){for(var e in n)if(n[e]!==t[e])return!1;return!0})},M.findWhere=function(t,n){return M.where(t,n,!0)},M.max=function(t,n,e){if(!n&&M.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!n&&M.isEmpty(t))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return T(t,function(t,i,a){var o=n?n.call(e,t,i,a):t;o>r.computed&&(r={value:t,computed:o})}),r.value},M.min=function(t,n,e){if(!n&&M.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!n&&M.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return T(t,function(t,i,a){var o=n?n.call(e,t,i,a):t;o<r.computed&&(r={value:t,computed:o})}),r.value},M.shuffle=function(t){var n,e=0,r=[];return T(t,function(t){n=M.random(e++),r[e-1]=r[n],r[n]=t}),r},M.sample=function(t,n,e){return arguments.length<2||e?t[M.random(t.length-1)]:M.shuffle(t).slice(0,Math.max(0,n))};var j=function(t){return M.isFunction(t)?t:function(n){return n[t]}};M.sortBy=function(t,n,e){var r=j(n);return M.pluck(M.map(t,function(t,n,i){return{value:t,index:n,criteria:r.call(e,t,n,i)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var O=function(t){return function(n,e,r){var i={},a=null==e?M.identity:j(e);return T(n,function(e,o){var u=a.call(r,e,o,n);t(i,u,e)}),i}};M.groupBy=O(function(t,n,e){(M.has(t,n)?t[n]:t[n]=[]).push(e)}),M.indexBy=O(function(t,n,e){t[n]=e}),M.countBy=O(function(t,n){M.has(t,n)?t[n]++:t[n]=1}),M.sortedIndex=function(t,n,e,r){e=null==e?M.identity:j(e);for(var i=e.call(r,n),a=0,o=t.length;o>a;){var u=a+o>>>1;e.call(r,t[u])<i?a=u+1:o=u}return a},M.toArray=function(t){return t?M.isArray(t)?u.call(t):t.length===+t.length?M.map(t,M.identity):M.values(t):[]},M.size=function(t){return null==t?0:t.length===+t.length?t.length:M.keys(t).length},M.first=M.head=M.take=function(t,n,e){return null==t?void 0:null==n||e?t[0]:u.call(t,0,n)},M.initial=function(t,n,e){return u.call(t,0,t.length-(null==n||e?1:n))},M.last=function(t,n,e){return null==t?void 0:null==n||e?t[t.length-1]:u.call(t,Math.max(t.length-n,0))},M.rest=M.tail=M.drop=function(t,n,e){return u.call(t,null==n||e?1:n)},M.compact=function(t){return M.filter(t,M.identity)};var E=function(t,n,e){return n&&M.every(t,M.isArray)?c.apply(e,t):(T(t,function(t){M.isArray(t)||M.isArguments(t)?n?o.apply(e,t):E(t,n,e):e.push(t)}),e)};M.flatten=function(t,n){return E(t,n,[])},M.without=function(t){return M.difference(t,u.call(arguments,1))},M.uniq=M.unique=function(t,n,e,r){M.isFunction(n)&&(r=e,e=n,n=!1);var i=e?M.map(t,e,r):t,a=[],o=[];return T(i,function(e,r){(n?r&&o[o.length-1]===e:M.contains(o,e))||(o.push(e),a.push(t[r]))}),a},M.union=function(){return M.uniq(M.flatten(arguments,!0))},M.intersection=function(t){var n=u.call(arguments,1);return M.filter(M.uniq(t),function(t){return M.every(n,function(n){return M.indexOf(n,t)>=0})})},M.difference=function(t){var n=c.apply(r,u.call(arguments,1));return M.filter(t,function(t){return!M.contains(n,t)})},M.zip=function(){for(var t=M.max(M.pluck(arguments,"length").concat(0)),n=new Array(t),e=0;t>e;e++)n[e]=M.pluck(arguments,""+e);return n},M.object=function(t,n){if(null==t)return{};for(var e={},r=0,i=t.length;i>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},M.indexOf=function(t,n,e){if(null==t)return-1;var r=0,i=t.length;if(e){if("number"!=typeof e)return r=M.sortedIndex(t,n),t[r]===n?r:-1;r=0>e?Math.max(0,i+e):e}if(m&&t.indexOf===m)return t.indexOf(n,e);for(;i>r;r++)if(t[r]===n)return r;return-1},M.lastIndexOf=function(t,n,e){if(null==t)return-1;var r=null!=e;if(y&&t.lastIndexOf===y)return r?t.lastIndexOf(n,e):t.lastIndexOf(n);for(var i=r?e:t.length;i--;)if(t[i]===n)return i;return-1},M.range=function(t,n,e){arguments.length<=1&&(n=t||0,t=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=0,a=new Array(r);r>i;)a[i++]=t,t+=e;return a};var A=function(){};M.bind=function(t,n){var e,r;if(S&&t.bind===S)return S.apply(t,u.call(arguments,1));if(!M.isFunction(t))throw new TypeError;return e=u.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(n,e.concat(u.call(arguments)));A.prototype=t.prototype;var i=new A;A.prototype=null;var a=t.apply(i,e.concat(u.call(arguments)));return Object(a)===a?a:i}},M.partial=function(t){var n=u.call(arguments,1);return function(){return t.apply(this,n.concat(u.call(arguments)))}},M.bindAll=function(t){var n=u.call(arguments,1);if(0===n.length)throw new Error("bindAll must be passed function names");return T(n,function(n){t[n]=M.bind(t[n],t)}),t},M.memoize=function(t,n){var e={};return n||(n=M.identity),function(){var r=n.apply(this,arguments);return M.has(e,r)?e[r]:e[r]=t.apply(this,arguments)}},M.delay=function(t,n){var e=u.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},M.defer=function(t){return M.delay.apply(M,[t,1].concat(u.call(arguments,1)))},M.throttle=function(t,n,e){var r,i,a,o=null,u=0;e||(e={});var c=function(){u=e.leading===!1?0:new Date,o=null,a=t.apply(r,i)};return function(){var s=new Date;u||e.leading!==!1||(u=s);var l=n-(s-u);return r=this,i=arguments,0>=l?(clearTimeout(o),o=null,u=s,a=t.apply(r,i)):o||e.trailing===!1||(o=setTimeout(c,l)),a}},M.debounce=function(t,n,e){var r,i,a,o,u;return function(){a=this,i=arguments,o=new Date;var c=function(){var s=new Date-o;n>s?r=setTimeout(c,n-s):(r=null,e||(u=t.apply(a,i)))},s=e&&!r;return r||(r=setTimeout(c,n)),s&&(u=t.apply(a,i)),u}},M.once=function(t){var n,e=!1;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}},M.wrap=function(t,n){return function(){var e=[t];return o.apply(e,arguments),n.apply(this,e)}},M.compose=function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},M.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},M.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var n=[];for(var e in t)M.has(t,e)&&n.push(e);return n},M.values=function(t){for(var n=M.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=t[n[i]];return r},M.pairs=function(t){for(var n=M.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=[n[i],t[n[i]]];return r},M.invert=function(t){for(var n={},e=M.keys(t),r=0,i=e.length;i>r;r++)n[t[e[r]]]=e[r];return n},M.functions=M.methods=function(t){var n=[];for(var e in t)M.isFunction(t[e])&&n.push(e);return n.sort()},M.extend=function(t){return T(u.call(arguments,1),function(n){if(n)for(var e in n)t[e]=n[e]}),t},M.pick=function(t){var n={},e=c.apply(r,u.call(arguments,1));return T(e,function(e){e in t&&(n[e]=t[e])}),n},M.omit=function(t){var n={},e=c.apply(r,u.call(arguments,1));for(var i in t)M.contains(e,i)||(n[i]=t[i]);return n},M.defaults=function(t){return T(u.call(arguments,1),function(n){if(n)for(var e in n)void 0===t[e]&&(t[e]=n[e])}),t},M.clone=function(t){return M.isObject(t)?M.isArray(t)?t.slice():M.extend({},t):t},M.tap=function(t,n){return n(t),t};var F=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof M&&(t=t._wrapped),n instanceof M&&(n=n._wrapped);var i=s.call(t);if(i!=s.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var a=e.length;a--;)if(e[a]==t)return r[a]==n;var o=t.constructor,u=n.constructor;if(o!==u&&!(M.isFunction(o)&&o instanceof o&&M.isFunction(u)&&u instanceof u))return!1;e.push(t),r.push(n);var c=0,l=!0;if("[object Array]"==i){if(c=t.length,l=c==n.length)for(;c--&&(l=F(t[c],n[c],e,r)););}else{for(var f in t)if(M.has(t,f)&&(c++,!(l=M.has(n,f)&&F(t[f],n[f],e,r))))break;if(l){for(f in n)if(M.has(n,f)&&!c--)break;l=!c}}return e.pop(),r.pop(),l};M.isEqual=function(t,n){return F(t,n,[],[])},M.isEmpty=function(t){if(null==t)return!0;if(M.isArray(t)||M.isString(t))return 0===t.length;for(var n in t)if(M.has(t,n))return!1;return!0},M.isElement=function(t){return!(!t||1!==t.nodeType)},M.isArray=x||function(t){return"[object Array]"==s.call(t)},M.isObject=function(t){return t===Object(t)},T(["Arguments","Function","String","Number","Date","RegExp"],function(t){M["is"+t]=function(n){return s.call(n)=="[object "+t+"]"}}),M.isArguments(arguments)||(M.isArguments=function(t){return!(!t||!M.has(t,"callee"))}),"function"!=typeof/./&&(M.isFunction=function(t){return"function"==typeof t}),M.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},M.isNaN=function(t){return M.isNumber(t)&&t!=+t},M.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==s.call(t)},M.isNull=function(t){return null===t},M.isUndefined=function(t){return void 0===t},M.has=function(t,n){return l.call(t,n)},M.noConflict=function(){return t._=n,this},M.identity=function(t){return t},M.times=function(t,n,e){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=n.call(e,i);return r},M.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=M.invert(P.escape);var I={escape:new RegExp("["+M.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+M.keys(P.unescape).join("|")+")","g")};M.each(["escape","unescape"],function(t){M[t]=function(n){return null==n?"":(""+n).replace(I[t],function(n){return P[t][n]})}}),M.result=function(t,n){if(null==t)return void 0;var e=t[n];return M.isFunction(e)?e.call(t):e},M.mixin=function(t){T(M.functions(t),function(n){var e=M[n]=t[n];M.prototype[n]=function(){var t=[this._wrapped];return o.apply(t,arguments),z.call(this,e.apply(M,t))}})};var R=0;M.uniqueId=function(t){var n=++R+"";return t?t+n:n},M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;M.template=function(t,n,e){var r;e=M.defaults({},e,M.templateSettings);var i=new RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(i,function(n,e,r,i,u){return o+=t.slice(a,u).replace(V,function(t){return"\\"+$[t]}),e&&(o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=u+n.length,n}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(e.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(n)return r(n,M);var c=function(t){return r.call(this,t,M)};return c.source="function("+(e.variable||"obj")+"){\n"+o+"}",c},M.chain=function(t){return M(t).chain()};var z=function(t){return this._chain?M(t).chain():t};M.mixin(M),T(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=r[t];M.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!=t&&"splice"!=t||0!==e.length||delete e[0],z.call(this,e)}}),T(["concat","join","slice"],function(t){var n=r[t];M.prototype[t]=function(){return z.call(this,n.apply(this._wrapped,arguments))}}),M.extend(M.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){"use strict";window.roundRect=function(t,n,e,r,i,a,o){"undefined"==typeof o&&(o=!0),"undefined"==typeof i&&(i=5);.5*Math.PI,1.5*Math.PI,1.5*Math.PI,.5*Math.PI;window.ctx.beginPath(),window.ctx.moveTo(t+i,n),window.ctx.lineTo(t+e-i,n),window.ctx.quadraticCurveTo(t+e,n,t+e,n+i),window.ctx.lineTo(t+e,n+r-i),window.ctx.quadraticCurveTo(t+e,n+r,t+e-i,n+r),window.ctx.lineTo(t+i,n+r),window.ctx.quadraticCurveTo(t,n+r,t,n+r-i),window.ctx.lineTo(t,n+i),window.ctx.quadraticCurveTo(t,n,t+i,n),window.ctx.closePath(),o&&window.ctx.stroke(),a&&window.ctx.fill()},window.pill=function(t,n,e,r,i,a){"undefined"==typeof a&&(a=!0);var o=.5*Math.PI,u=1.5*Math.PI,c=1.5*Math.PI,s=.5*Math.PI,l=r/2;window.ctx.beginPath(),window.ctx.arc(t+l,n+l,l,o,u,!1),window.ctx.lineTo(t+e-l,n),window.ctx.arc(t+e-l,n+l,l,c,s,!1),window.ctx.closePath(),a&&window.ctx.stroke(),i&&window.ctx.fill()}}(),function(){"use strict";window.Vector2d=function(t,n){this.x=t,this.y=n,this.add=function(t){return new window.Vector2d(this.x+t.x,this.y+t.y)},this.sub=function(t){return new window.Vector2d(this.x-t.x,this.y-t.y)},this.scale=function(t){return new window.Vector2d(this.x*t,this.y*t)},this.length=function(){return Math.sqrt(this.dot(this))},this.angle=function(t){return Math.acos(this.dot(t)/(this.length()*t.length()))},this.setAngleVector=function(t,n){return this.x=-t*Math.sin(n),this.y=t*Math.cos(n),this},this.dot=function(t){return this.x*t.x+this.y*t.y},this.normalize=function(){var t=this.length();return new window.Vector2d(this.x/t,this.y/t)},this.clone=function(){return new window.Vector2d(this.x,this.y)},this.distanceSquared=function(t){var n=this.x-t.x,e=this.y-t.y;return n*n+e*e},this.toString=function(){return"("+this.x+", "+this.y+")"}},window.Vector2dCompareX=function(t,n){return t.x-n.x},window.Vector2dCompareY=function(t,n){return t.y-n.y}}(),function(t,n){"use strict";window.degreesToRadians=function(t){return t*(Math.PI/180)},window.Circle=function(n,e,r,i){this.x=n,this.y=e,this.radius=Math.floor(Math.random()*i.maxSize)+i.minSize;var a=Math.floor(Math.random()*r.length);this.color=r[a][0],this.borderColor=r[a][1],this.borderSize=Math.floor(.02*this.radius)+1,this.setSpeed=function(){Math.floor(256*Math.random())>128?this.speed=Math.random()*i.maxSpeed+i.minSpeed:this.speed=Math.random()*-i.maxSpeed-i.minSpeed,Math.floor(256*Math.random())>128?this.xspeed=Math.random()*i.maxSpeed+i.minSpeed:this.xspeed=Math.random()*-i.maxSpeed-i.minSpeed},this.isTouchingBounds=function(){return this.x<=this.radius||this.y<=this.radius||this.x+this.radius>=t.width||this.y+this.radius>=t.height?!0:!1},this.bounce=function(){this.x<=this.radius||this.x+this.radius>=t.width?(this.x=Math.max(this.radius,this.x),this.x=Math.min(t.width-this.radius-1,this.x),this.xspeed=-this.xspeed):(this.y=Math.max(this.radius,this.y),this.y=Math.min(t.height-this.radius-1,this.y),this.speed=-this.speed)},this.hitForVector=function(t){return t.x>this.x-this.radius&&t.x<this.x+this.radius&&t.y>this.y-this.radius&&t.y<this.y+this.radius},this.draw=function(){window.ctx.save(),window.ctx.beginPath(),window.ctx.arc(this.x,this.y,this.radius,0,window.degreesToRadians(360),!0),window.ctx.fillStyle=this.color,window.ctx.fill(),window.ctx.lineWidth=this.borderSize,window.ctx.strokeStyle=this.borderColor,window.ctx.stroke(),window.ctx.closePath(),window.ctx.restore()},this.setSpeed()}}(window.canvas,window.ctx),function(){"use strict";var t,n=window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame,e=window.canvas=document.getElementById("canvas"),r=(window.tapEvent||"touchstart",window.interactStart||"touchstart"),i=window.interactEnd||"touchend";e.width=$(".me").width(),e.height=$(".me").height(),$(window).resize(function(){console.log("resize"),e.width=$(".me").width(),e.height=$(".me").height()});var a=window.ctx=e.getContext("2d"),o=window.ecliptic={buttons:[],drawStack:[],updateStack:[],touchstartTargets:[],touchendTargets:[],init:function(){o.settings=JSON.parse(localStorage.getItem("settings"))||{sounds:!0,music:!0},n(this.drawScene),e.addEventListener(r,function(t){for(var n=o.getTouchStartPoints(t),e=0;e<n.length;e++)for(var r=0;r<o.touchstartTargets.length;r++)o.touchstartTargets[r].hitForVector(n[e])&&o.touchstartTargets[r].didRecieveTouchStart.call(o.touchstartTargets[r],n[e])}),e.addEventListener(i,function(t){for(var n=o.getTouchEndPoints(t),e=0;e<n.length;e++)for(var r=0;r<o.touchendTargets.length;r++)o.touchendTargets[r].hitForVector(n[e])&&o.touchendTargets[r].didRecieveTouchEnd.call(o.touchendTargets[r])})},syncSettings:function(){localStorage.setItem("settings",JSON.stringify(o.settings))},clearEventStacks:function(){this.drawStack=[],this.updateStack=[],this.touchstartTargets=[],this.touchendTargets=[]},getTouchStartPoints:function(t){for(var n,r=t.touches||[t],i=[],a=0;a<r.length;a++)n=new window.Vector2d(r[a].pageX,r[a].pageY),n=n.sub(new window.Vector2d(e.offsetLeft||0,e.offsetTop||0)),i.push(n);return i},getTouchEndPoints:function(t){for(var n,r=t.changedTouches||[t],i=[],a=0;a<r.length;a++)n=new window.Vector2d(r[a].pageX,r[a].pageY),n=n.sub(new window.Vector2d(e.offsetLeft||0,e.offsetTop||0)),i.push(n);return i},drawScene:function(e){var r=e-(t||e);a.clearRect(0,0,a.canvas.width,a.canvas.height),a.fillStyle=window.bgcolor||"#fff",a.fillRect(0,0,a.canvas.width,a.canvas.height),a.save();for(var i=0;i<o.drawStack.length;i++)o.drawStack[i].method.call(o.drawStack[i].context,r);for(var u=0;u<o.updateStack.length;u++)o.updateStack[u].method.call(o.updateStack[u].context,r);a.restore(),t=e,n(o.drawScene)}}}(),function(t,n,e,r){"use strict";t.circleField=r.extend({colors:[["rgba(255,100,0, 0.7)","rgba(255,100,0, 0.9)"],["rgba(255,161,0, 0.7)","rgba(255,161,0, 0.9)"],["rgba(15,77,168, 0.7)","rgba(15,77,168, 0.9)"],["rgba(0,163,131, 0.7)","rgba(0,163,131, 0.9)"]],constructor:function(e){var r=this.circles=new Array(e);this.consts=new this.Consts;for(var i=0;i<r.length;i++)r[i]=new window.Circle(Math.random()*n.width,Math.random()*n.height,this.colors,this.consts);this.updateGame(16),this.updateGame(16);var a=this;t.drawStack.push({context:a,method:a.drawField}),t.updateStack.push({context:a,method:a.updateGame})},Consts:function(){this.minSize=Math.sqrt(n.height*n.width*.061144),this.maxSize=Math.sqrt(n.height*n.width*.11)-this.minSize,this.targetSize=Math.floor(.15*n.width),this.targetBorderSize=Math.floor(.05*this.targetSize),this.minSpeed=.005*n.width/60,this.maxSpeed=this.minSpeed},drawField:function(){for(var t=0;t<this.circles.length;t++)this.circles[t].draw()},updateGame:function(t){for(var n=t/16,e=0;e<this.circles.length;e++){var r=this.circles[e];r.isTouchingBounds()&&r.bounce(),r.y+=r.speed*n,r.x+=r.xspeed*n}}})}(window.ecliptic,window.canvas,window.ctx,window.Proto),window.bgcolor="#FFF",window.ecliptic.init();var evalFied=function(){var t=5;window.ecliptic.circleField.make(t)};$("#copy").click(function(){_.each($(".fieldset"),function(t){$("#stroke",t).val($("#fill",t).val())})}),$("#addRow").click(function(){$(".fieldset").first().clone().insertAfter($(".fieldset").last())}),$("#subtractRow").click(function(){$(".fieldset").last().remove()}),$("#go").click(evalFied),evalFied();